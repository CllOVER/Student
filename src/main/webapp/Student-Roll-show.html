<!DOCTYPE html>
<html>
  
  <head>
    <meta charset="UTF-8">
    <title>Adminostration System</title>
    <meta name="renderer" content="webkit">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width,user-scalable=yes, minimum-scale=0.4, initial-scale=0.8,target-densitydpi=low-dpi" />
    <script type="javascript" src="static/layDate-v5.0.9/laydate/laydate.js"></script>
    <script type="text/javascript" src="static/jquery-3.3.1/jquery-3.3.1.js"></script>
    <link rel="stylesheet" href="./static/layui/css/layui.css">
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon" />
    <link rel="stylesheet" href="./css/font.css">
    <link rel="stylesheet" href="./css/xadmin.css">
    <script type="text/javascript" src="./lib/layui/layui.js" charset="utf-8"></script>
    <script type="text/javascript" src="./js/xadmin.js"></script>
    <!-- 让IE8/9支持媒体查询，从而兼容栅格 -->
    <!--[if lt IE 9]>
      <script src="https://cdn.staticfile.org/html5shiv/r29/html5.min.js"></script>
      <script src="https://cdn.staticfile.org/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->
  </head>
  <!--调节表格字体-->
  <style>
    .border_td{font-weight: bolder; font-size: 16px;}
    /*遮罩*/
    td:hover{background-color: #F0F0F0}
  </style>

  <body>
    <div class="x-nav">
      <span class="layui-breadcrumb">
        <a href="">首页</a>
        <a>
          <cite>学生信息显示</cite></a>
      </span>
      <a class="layui-btn layui-btn-small " style="line-height:1.6em;margin-top:3px;float:right" href="javascript:location.replace(location.href);" title="刷新">
        <i class="layui-icon  layui-icon-loading layui-icon layui-anim layui-anim-rotate layui-anim-loop" style="line-height:30px"></i></a>
    </div>
    <div class="x-body">
      <div class="layui-row">
        <form class="layui-form layui-col-md12 x-so">
          <input class="layui-input" placeholder="开始日" name="start" id="start">
          <input class="layui-input" placeholder="截止日" name="end" id="end">
          <input type="text" id="stuRollId_input" name="stuRollId"  placeholder="请输入学籍号" autocomplete="off" class="layui-input">
          <button class="layui-btn" id="stuRollId_Btn"  lay-submit="" lay-filter="sreach"><i class="layui-icon ">&#xe615;</i></button>
        </form>
      </div>
      <xblock>
        <!--onclick="x_admin_show('添加用户','./admin-add.html')"-->
        <button class="layui-btn" style="background-color: #FF5722" ><i class="layui-icon layui-icon-picture"></i>下载图片格式</button>
        <button class="layui-btn" style="background-color: #FF5722"><i class="icon iconfont">&#xe740;</i>下载pdf格式</button>
        <button class="layui-btn" style="background-color: #FF5722"><i class="icon iconfont">&#xe73f;</i>下载Excel格式</button>
        <span class="x-right" style="line-height:40px">共有数据：88 条</span>
      </xblock>

        <table  align="center" cellpadding="0" cellspacing="0" border="1" width="800">
                <caption><h2>学生基本情况及学籍查询表</h2></caption>


            <tr align="center">
                <td width="120" height="60" class="border_td">学生编号</td>
                <td width="120" height="60" ><p id="stuId_P"></p></td>
                <td width="120" height="60" class="border_td">姓名</td>
                <td width="120" height="60"><p id="stuName_P"></p></td>
                <td width="120" height="60" class="border_td">出生年月</td>
                <td width="120" height="60"><p id="stuBirthday_P"></p></td>
                <td width="150" height="60" rowspan="5" class="border_td">照片</td>
            </tr>

                 <tr align="center">
                     <td width="120" height="60" class="border_td">性别</td>
                     <td width="120" height="60" ><p id="stuSex_P"></p></td>
                     <td width="120" height="60" class="border_td">民族</td>
                     <td width="120" height="60" ><p id="stuNation_P"></p></td>
                     <td width="120" height="60" class="border_td">是否团员</td>
                     <td width="120" height="60" ><p id="stuLeagueMember_P"></p></td>
                 </tr>

                 <tr align="center">
                     <td width="120" height="60" class="border_td">年龄</td>
                     <td width="120" height="60" ><p id="stuAge_P"></p></td>
                     <td width="120" height="60" class="border_td">手机号</td>
                     <td width="120" height="60" ><p id="stuPhone_P"></p></td>
                     <td width="120" height="60" class="border_td">是否党员</td>
                     <td width="120" height="60" ><p id="stuPartyMember_P"></p></td>
                 </tr>

                 <tr align="center">
                     <td width="120" height="60"  colspan="2" rowspan="2" class="border_td">基本情况</td>
                     <td width="120" height="60"  class="border_td">身份证号</td>
                     <td width="120" height="60"  colspan="3"><p id="stuIdentity_P"></p></td>
                 </tr>

                 <tr align="center">
                     <td width="120" height="60" class="border_td">现住址</td>
                     <td width="120" height="60"  colspan="4"><p id="stuHome_P"></p></td>
                 </tr>

                <tr align="center">
                  <td width="120" height="60" class="border_td" >户籍所在地</td>
                  <td width="120" height="60"  colspan="6"><p id="stuAddress_P"></p></td>
                </tr>

                <tr align="center">
                  <td width="120" height="60" class="border_td">QQ</td>
                  <td width="120" height="60" ><p id="stuQq_P"></p></td>
                  <td width="120" height="60" class="border_td">email</td>
                  <td width="120" height="60" ><p id="stuEmail_P"></p></td>
                  <td width="120" height="60" class="border_td">在校状态</td>
                  <td width="120" height="60" colspan="8"><p id="rollStatus_P"></p></td>
                </tr>

               <tr align="center">
               <td width="120" height="60" class="border_td">就读方式</td>
               <td width="120" height="60"><p id="rollStudyingWay_P"></p></td>
               <td width="120" height="60" class="border_td">入学方式</td>
               <td width="120" height="60"><p id="rollStudyingForm_P"></p></td>
               <td width="120" height="60" class="border_td">入学日期</td>
               <td width="120" height="60" colspan="8"><p id="rollStudyingDate_P"></p></td>
               </tr>

                <tr align="center">
                  <td width="120" height="60" class="border_td">院/系</td>
                  <td width="120" height="60" colspan="6"><p id="acaName_P"></p></td>
                </tr>

               <tr align="center">
                 <td width="120" height="60" class="border_td">专业</td>
                 <td width="120" height="60"><p id="majName_P"></p></td>
                 <td width="120" height="60" class="border_td">年级</td>
                 <td width="120" height="60"><p id="gradeName_P"></p></td>
                 <td width="120" height="60" class="border_td">班级</td>
                 <td width="120" height="60" colspan="8"><p id="className_P"></p></td>
               </tr>

              <tr align="center">
               <td width="120" height="60" class="border_td">学生来源</td>
               <td width="120" height="60" colspan="6"><p id="rollStudyingSource_P"></p></td>
              </tr>
              <tr align="center">
                <td width="120" height="100" class="border_td">何时何地受过何种惩罚</td>
                <td  colspan="12"><p id="s_P"></p></td>
              </tr>

              <tr align="center">
                <td width="120" height="100" class="border_td">何时何地受过何种奖励</td>
                <td colspan="12"><p id="p_P"></p></td>
              </tr>

             <tr align="center">
                    <td width="120" height="100" colspan="2" class="border_td">备注</td>
                    <td colspan="12"><p id="b_P"></p></td>
                </tr>

          <tr align="center">
            <td width="120" height="40" colspan="2" class="border_td">当前日期</td>
            <td colspan="2"><p id="now_P"></p></td>
            <td width="120" height="40" colspan="2" class="border_td">签字</td>
            <td colspan="4"><p id="name_P"></p></td>
          </tr>

            </table>
      <div class="page">
      </div>
    </div>
    <script>
      layui.use('laydate', function(){
        var laydate = layui.laydate;
        
        //执行一个laydate实例
        laydate.render({
          elem: '#start' //指定元素
        });

        //执行一个laydate实例
        laydate.render({
          elem: '#end' //指定元素
        });
      });



      layui.use(['form','layer'], function() {
          $ = layui.jquery;
          var form = layui.form
              , layer = layui.layer;


          /*
                <input type="text" id="stuRollId_input" name="stuRollId"  placeholder="请输入学籍号" autocomplete="off" class="layui-input">
                        <button class="layui-btn" id="stuRollId_Btn"  lay-submit="" lay-filter="sreach"><i class="layui-icon ">&#xe615;</i></button>*/

          form.on('submit(sreach)', function (data) {

              console.log(data);
              console.log($("#stuRollId_input").val());
              //获取当前输入值
              var stuRollId = $("#stuRollId_input").val();
              $("#stuRollId_Btn").attr("stuRollId", stuRollId);
              $.ajax({
                  url: "http://localhost:8080/CheckStuRollId",
                  data: "stuRollId=" + stuRollId,
                  type: "POST",
                  success: function (result) {
                      if (result.code == 100) {
                          layer.alert("当前不存在学生:【 " + stuRollId + " 】信息");
                      } else {
                          console.log(stuRollId);
                          search_Student_Show(stuRollId);

                      }
                  }
              })
              return false;
          });
      });

      /*<tr align="center">
          <td width="120" height="60" class="border_td">学生编号</td>
          <td width="120" height="60" id="stuId"></td>
          <td width="120" height="60" class="border_td">姓名</td>
          <td width="120" height="60"></td>
          <td width="120" height="60" class="border_td">出生年月</td>
          <td width="120" height="60"></td>
          <td width="150" height="60" rowspan="5" class="border_td">照片</td>
          </tr>*/
      function search_Student_Show(stuRollId) {
          $.ajax({
              url:"http://localhost:8080/ShowStuRollId/" + stuRollId,
              type:"GET",
              success:function (result) {
                  console.log(result)
                  var stushowlist = result.userMsg.RollSHow;
                  $("#stuId_P").text(stushowlist.students.stuId);
                  $("#stuName_P").text(stushowlist.students.stuName);
                  $("#stuSex_P").text(stushowlist.students.stuSex);
                  $("#stuBirthday_P").text(stushowlist.students.stuBirthday);
                  $("#stuAge_P").text(stushowlist.students.stuAge);
                  $("#stuNation_P").text(stushowlist.students.stuNation);
                  $("#stuLeagueMember_P").text(stushowlist.students.stuLeagueMember);
                  $("#stuPhone_P").text(stushowlist.students.stuPhone);
                  $("#stuPartyMember_P").text(stushowlist.students.stuPartyMember);
                  $("#stuIdentity_P").text(stushowlist.students.stuIdentity);
                  $("#stuHome_P").text(stushowlist.students.stuHome);
                  $("#stuAddress_P").text(stushowlist.students.stuAddress);
                  $("#stuQq_P").text(stushowlist.students.stuQq);
                  $("#stuEmail_P").text(stushowlist.students.stuEmail);
                  $("#rollStatus_P").text(stushowlist.rollStatus == '1'?"已注册":"已注销");
                  $("#rollStudyingWay_P").text(stushowlist.rollStudyingWay);
                  $("#rollStudyingForm_P").text(stushowlist.rollStudyingForm);
                  $("#rollStudyingDate_P").text(stushowlist.rollStudyingDate);
                  $("#acaName_P").text(stushowlist.academy.acaName);
                  $("#majName_P").text(stushowlist.major.majName);
                  $("#gradeName_P").text(stushowlist.grade.gradeName);
                  $("#className_P").text(stushowlist.sclass.className);
                  $("#rollStudyingSource_P").text(stushowlist.rollStudyingSource);
                  $("#s_P").text("无");
                  $("#p_P").text("无");
                  $("#now_P").text("无");
                  $("#name_P").text("无");

              }
              })
      }
    </script>
  </body>
</html>